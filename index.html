<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Web AR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ar.js/2.2.2/ar.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        .instructions {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            max-width: 300px;
            z-index: 100;
        }
        
        .marker-download {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            z-index: 100;
        }
        
        #arContainer {
            width: 100vw;
            height: 100vh;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 50;
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h3>üöÄ Your First AR Experience!</h3>
        <p><strong>Instructions:</strong></p>
        <ol>
            <li>Allow camera access when prompted</li>
            <li>Download the marker below</li>
            <li>Print it or display on another screen</li>
            <li>Point your camera at the marker</li>
            <li>Watch the magic happen! ‚ú®</li>
        </ol>
    </div>
    
    <div class="loading" id="loading">Loading AR... Please wait</div>
    
    <a href="https://raw.githubusercontent.com/AR-js-org/AR.js/master/data/images/HIRO.jpg" 
       target="_blank" class="marker-download">
        üì• Download AR Marker
    </a>
    
    <div id="arContainer">
        <a-scene
            arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
            renderer="logarithmicDepthBuffer: true; precision: medium;"
            vr-mode-ui="enabled: false"
            gesture-detector
            id="scene">
            
            <!-- Asset management -->
            <a-assets>
                <a-box id="boxTemplate" 
                       geometry="width: 1; height: 1; depth: 1" 
                       material="color: #4CC3D9; opacity: 0.8">
                </a-box>
            </a-assets>
            
            <!-- AR Marker -->
            <a-marker 
                preset="hiro" 
                id="markerA"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse">
                
                <!-- 3D Objects that appear on marker -->
                <!-- Rotating cube -->
                <a-box 
                    position="0 0.5 0" 
                    rotation="45 45 45"
                    color="#4CC3D9"
                    animation="property: rotation; to: 45 405 45; loop: true; dur: 4000"
                    shadow="cast: true">
                </a-box>
                
                <!-- Bouncing sphere -->
                <a-sphere 
                    position="-1 0.5 0" 
                    radius="0.3" 
                    color="#EF2D5E"
                    animation="property: position; to: -1 1.5 0; dir: alternate; loop: true; dur: 2000"
                    shadow="cast: true">
                </a-sphere>
                
                <!-- Spinning cone -->
                <a-cone 
                    position="1 0.5 0" 
                    radius-bottom="0.3" 
                    height="1" 
                    color="#FFC65D"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 3000"
                    shadow="cast: true">
                </a-cone>
                
                <!-- Interactive text -->
                <a-text 
                    value="Hello AR World!" 
                    position="0 2 0" 
                    align="center"
                    color="#000"
                    animation="property: scale; to: 1.2 1.2 1.2; dir: alternate; loop: true; dur: 1500">
                </a-text>
                
                <!-- Ground plane with shadow -->
                <a-plane 
                    position="0 0 0" 
                    rotation="-90 0 0" 
                    width="4" 
                    height="4" 
                    color="#7BC8A4" 
                    opacity="0.5"
                    shadow="receive: true">
                </a-plane>
            </a-marker>
            
            <!-- Camera -->
            <a-entity camera></a-entity>
        </a-scene>
    </div>

    <script>
        // Wait for AR.js to load
        document.addEventListener('DOMContentLoaded', function() {
            const scene = document.querySelector('#scene');
            const loading = document.getElementById('loading');
            
            // Hide loading when AR starts
            scene.addEventListener('renderstart', function() {
                loading.style.display = 'none';
            });
            
            // Add some interactivity
            const marker = document.querySelector('#markerA');
            
            marker.addEventListener('markerFound', function() {
                console.log('üéØ Marker detected!');
                // You could trigger sound effects, analytics, etc.
            });
            
            marker.addEventListener('markerLost', function() {
                console.log('‚ùå Marker lost');
            });
            
            // Add click interactions to 3D objects
            const box = document.querySelector('a-box');
            box.addEventListener('click', function() {
                // Change color on click
                const colors = ['#4CC3D9', '#EF2D5E', '#FFC65D', '#7BC8A4'];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                this.setAttribute('color', randomColor);
            });
        });
    </script>
</body>
</html>
</html>
